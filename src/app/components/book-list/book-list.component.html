
<h1 class="page-title">Book List</h1>
<div class="search-container">
    <app-search></app-search>
</div>

<div class="container">
    <div class="add-container">
        <button mat-flat-button (click)="addBook()">+</button>
    </div>
    <section class="book-list-container mat-elevation-z8" tabindex="0">
        <table mat-table [dataSource]="books$" class="mat-elevation-z8">

            <ng-container matColumnDef="title">
            <th mat-header-cell *matHeaderCellDef> Title </th>
            <td mat-cell *matCellDef="let element"> {{element.title}} </td>
            </ng-container>
        

            <ng-container matColumnDef="author">
            <th mat-header-cell *matHeaderCellDef> Author </th>
            <td mat-cell *matCellDef="let element"> {{element.author}} </td>
            </ng-container>
        

            <ng-container matColumnDef="year">
            <th mat-header-cell *matHeaderCellDef> Year </th>
            <td mat-cell *matCellDef="let element"> {{element.year}} </td>
            </ng-container>

            <ng-container matColumnDef="options">
                <th mat-header-cell *matHeaderCellDef></th>
                <td mat-cell *matCellDef="let element">
                    <div class="options-panel">
                        <mat-icon aria-hidden="false" aria-label="View" fontIcon="edit" (click)="openBookDetails(element.id)"></mat-icon>
                        <mat-icon aria-hidden="false" aria-label="Delete" fontIcon="delete" (click)="deleteBook(element.id)" class="delete-button"></mat-icon>
                    </div>
                </td>
            </ng-container>
        
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
        @if (isLoading$ | async;) {
            <mat-progress-bar mode="indeterminate"></mat-progress-bar>
        }
    </section>
</div>
<app-snackbar></app-snackbar>